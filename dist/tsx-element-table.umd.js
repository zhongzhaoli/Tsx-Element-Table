(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue")):typeof define=="function"&&define.amd?define(["vue"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.TsxElementTable=s(e.Vue))})(this,function(e){"use strict";const s="table-",C="handle-left",h={index:"索引",selection:"选择"},V="default",g=10,N=1,w="total, prev, pager, next, jumper",x=[{value:"large",label:"宽松"},{value:"default",label:"默认"},{value:"small",label:"紧凑"}];/*! Element Plus Icons Vue v2.3.1 */var E=e.defineComponent({name:"Open",__name:"open",setup(a){return(p,c)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[e.createElementVNode("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"}),e.createElementVNode("path",{fill:"currentColor",d:"M694.044 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454m0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088"})]))}}),y=E,T=e.defineComponent({name:"Operation",__name:"operation",setup(a){return(p,c)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[e.createElementVNode("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64z"})]))}}),S=T,B=e.defineComponent({name:"Refresh",__name:"refresh",setup(a){return(p,c)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[e.createElementVNode("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"})]))}}),k=B;function i(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!e.isVNode(a)}return e.defineComponent({name:"TsxElementTable",props:{size:{type:String,default:V},table:{type:Object,required:!0},handleList:{type:Array,default:()=>[]},total:{type:Number,default:0},"v-model:pageSize":{type:Number,default:g},"v-model:currentPage":{type:Number,default:N}},emits:["update:currentPage","update:pageSize","size-change","table-refresh","handle-click","selection-change"],setup(a,{slots:p,emit:c}){const u=e.ref(a.size),z=e.ref(),b=e.ref((a.table.columns||[]).map(n=>({...n,show:!0}))),f=e.ref(!1);function H(n){const l=`${s}${n.prop}`;return p[l]}function L(){return p[C]}function A(n){const l={},o=H(n);return o&&(l.default=r=>o(r)),n.show&&e.createVNode(e.resolveComponent("el-table-column"),n,i(l)?l:{default:()=>[l]})}function P(){const n=a["v-model:currentPage"]||N,l=a["v-model:pageSize"]||g,o=t=>{c("update:currentPage",t)},r=t=>{c("update:pageSize",t)};return e.createVNode(e.resolveComponent("el-pagination"),{size:e.unref(u),defaultCurrentPage:n,pageSize:l,total:a.total,layout:w,onCurrentChange:o,onSizeChange:r},null)}function O(){let n;const{table:l}=a,o=e.createVNode(e.resolveComponent("el-table"),e.mergeProps({ref:"tableRef",size:e.unref(u)},l,{onSelectionChange:c("selection-change")}),i(n=e.unref(b).map(r=>A(r)))?n:{default:()=>[n]});return z.value=o,o}function F(){function n(){const o=t=>{c("handle-click",t)},r=L();return e.createVNode(e.Fragment,null,[e.createVNode("div",{className:"cuHandleLeftBtnBox"},[(a.handleList||[]).map(t=>e.createVNode(e.resolveComponent("el-button"),{key:t.key,type:t.type||"",onClick:t.action??(()=>o(t.key))},{default:()=>[t.label]}))]),e.createVNode("div",{className:"cuHandleLeftSlotBox"},[r&&r()])])}function l(){const o={default:()=>e.createVNode(e.resolveComponent("el-button"),{circle:!0,icon:S},null),dropdown:()=>{let d;return e.createVNode(e.resolveComponent("el-dropdown-menu"),null,i(d=x.map(_=>e.createVNode(e.resolveComponent("el-dropdown-item"),{command:_.value,disabled:e.unref(u)===_.value},{default:()=>[_.label]})))?d:{default:()=>[d]})}},r=d=>{u.value=d,c("size-change",d)},t=()=>{c("table-refresh")},m=()=>{f.value=!0};return e.createVNode(e.Fragment,null,[e.createVNode("div",null,[e.createVNode(e.resolveComponent("el-button"),{circle:!0,icon:k,onClick:t},null)]),e.createVNode("div",null,[e.createVNode(e.resolveComponent("el-dropdown"),{trigger:"click",onCommand:r},i(o)?o:{default:()=>[o]})]),e.createVNode("div",null,[e.createVNode(e.resolveComponent("el-button"),{circle:!0,icon:y,onClick:m},null)])])}return e.createVNode(e.Fragment,null,[e.createVNode("div",{className:"cuHandleLeftBox"},[n()]),e.createVNode("div",{className:"cuHandleRightBox"},[l()])])}function U(){const n=()=>{f.value=!1},l=t=>e.createVNode(e.resolveComponent("el-checkbox"),{key:"normal",modelValue:t.show,"onUpdate:modelValue":m=>t.show=m,label:t.prop},{default:()=>[t.label]}),o=t=>e.createVNode(e.resolveComponent("el-checkbox"),{key:t.type,disabled:!0,"model-value":!0},{default:()=>[h[t.type]]}),r={default:()=>e.unref(b).map(t=>t.type&&h[t.type]?o(t):l(t))};return e.createVNode(e.resolveComponent("el-drawer"),{width:"320px","append-to-body":!0,"model-value":f.value,title:"字段管理",onClose:n},i(r)?r:{default:()=>[r]})}return()=>e.createVNode("div",{className:"TsxElementTableContainer"},[e.createVNode("div",{className:"cuHandleBox"},[F(),U()]),e.createVNode("div",{className:"cuTableBox"},[O()]),e.createVNode("div",{className:"cuPaginationBox"},[P()])])}})});
