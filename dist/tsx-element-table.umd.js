(function(e,p){typeof exports=="object"&&typeof module<"u"?module.exports=p(require("vue")):typeof define=="function"&&define.amd?define(["vue"],p):(e=typeof globalThis<"u"?globalThis:e||self,e.TsxElementTable=p(e.Vue))})(this,function(e){"use strict";const p="table-",V="handle-left",h={index:"索引",selection:"选择"},w="default",N=10,g=1,y="total, prev, pager, next, jumper",x=[{value:"large",label:"宽松"},{value:"default",label:"默认"},{value:"small",label:"紧凑"}];/*! Element Plus Icons Vue v2.3.1 */var E=e.defineComponent({name:"Open",__name:"open",setup(l){return(u,d)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[e.createElementVNode("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"}),e.createElementVNode("path",{fill:"currentColor",d:"M694.044 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454m0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088"})]))}}),T=E,B=e.defineComponent({name:"Operation",__name:"operation",setup(l){return(u,d)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[e.createElementVNode("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64z"})]))}}),S=B,k=e.defineComponent({name:"Refresh",__name:"refresh",setup(l){return(u,d)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[e.createElementVNode("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"})]))}}),z=k;function i(l){return typeof l=="function"||Object.prototype.toString.call(l)==="[object Object]"&&!e.isVNode(l)}return e.defineComponent({name:"TsxElementTable",props:{size:{type:String,default:w},table:{type:Object,required:!0},handleList:{type:Array,default:()=>[]},total:{type:Number,default:0},"v-model:pageSize":{type:Number,default:N},"v-model:currentPage":{type:Number,default:g}},setup(l,{slots:u,emit:d,expose:L}){const f=e.ref(l.size),C=e.ref(null),b=e.ref((l.table.columns||[]).map(n=>({...n,show:!0}))),_=e.ref(!1);L({getTableRef:()=>C.value});function H(n){const r=`${p}${n.prop}`;return u[r]}function A(){return u[V]}function P(n){const r={},o=H(n);return o&&(r.default=a=>o(a)),n.show&&e.createVNode(e.resolveComponent("el-table-column"),n,i(r)?r:{default:()=>[r]})}function O(){const n=l["v-model:currentPage"]||g,r=l["v-model:pageSize"]||N,o=t=>{d("update:currentPage",t)},a=t=>{d("update:pageSize",t)};return e.createVNode(e.resolveComponent("el-pagination"),{size:e.unref(f),defaultCurrentPage:n,pageSize:r,total:l.total,layout:y,onCurrentChange:o,onSizeChange:a},null)}function U(){var s;let n;const{table:r}=l,o=e.getCurrentInstance(),a={};return Object.keys(((s=o==null?void 0:o.vnode)==null?void 0:s.props)??[]).filter(c=>c.startsWith("on")&&!c.startsWith("onUpdate")).forEach(c=>{const v=c.replace("on","").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();a[c]=(...M)=>{d(v,...M)}}),e.createVNode(e.resolveComponent("el-table"),e.mergeProps({ref:C,size:e.unref(f)},a,r),i(n=e.unref(b).map(c=>P(c)))?n:{default:()=>[n]})}function F(){function n(){const o=t=>{d("handle-click",t)},a=A();return e.createVNode(e.Fragment,null,[e.createVNode("div",{className:"cuHandleLeftBtnBox"},[(l.handleList||[]).map(t=>e.createVNode(e.resolveComponent("el-button"),{key:t.key,type:t.type||"",onClick:t.action??(()=>o(t.key))},{default:()=>[t.label]}))]),e.createVNode("div",{className:"cuHandleLeftSlotBox"},[a&&a()])])}function r(){const o={default:()=>e.createVNode(e.resolveComponent("el-button"),{circle:!0,icon:S},null),dropdown:()=>{let c;return e.createVNode(e.resolveComponent("el-dropdown-menu"),null,i(c=x.map(m=>e.createVNode(e.resolveComponent("el-dropdown-item"),{command:m.value,disabled:e.unref(f)===m.value},{default:()=>[m.label]})))?c:{default:()=>[c]})}},a=c=>{f.value=c,d("size-change",c)},t=()=>{d("table-refresh")},s=()=>{_.value=!0};return e.createVNode(e.Fragment,null,[e.createVNode("div",null,[e.createVNode(e.resolveComponent("el-button"),{circle:!0,icon:z,onClick:t},null)]),e.createVNode("div",null,[e.createVNode(e.resolveComponent("el-dropdown"),{trigger:"click",onCommand:a},i(o)?o:{default:()=>[o]})]),e.createVNode("div",null,[e.createVNode(e.resolveComponent("el-button"),{circle:!0,icon:T,onClick:s},null)])])}return e.createVNode(e.Fragment,null,[e.createVNode("div",{className:"cuHandleLeftBox"},[n()]),e.createVNode("div",{className:"cuHandleRightBox"},[r()])])}function D(){const n=()=>{_.value=!1},r=t=>e.createVNode(e.resolveComponent("el-checkbox"),{key:"normal",modelValue:t.show,"onUpdate:modelValue":s=>t.show=s,label:t.prop},{default:()=>[t.label]}),o=t=>e.createVNode(e.resolveComponent("el-checkbox"),{key:t.type,disabled:!0,"model-value":!0},{default:()=>[h[t.type]]}),a={default:()=>e.unref(b).map(t=>t.type&&h[t.type]?o(t):r(t))};return e.createVNode(e.resolveComponent("el-drawer"),{width:"320px","append-to-body":!0,"model-value":_.value,title:"字段管理",onClose:n},i(a)?a:{default:()=>[a]})}return()=>e.createVNode("div",{className:"TsxElementTableContainer"},[e.createVNode("div",{className:"cuHandleBox"},[F(),D()]),e.createVNode("div",{className:"cuTableBox"},[U()]),e.createVNode("div",{className:"cuPaginationBox"},[O()])])}})});
